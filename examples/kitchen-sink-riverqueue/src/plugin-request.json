{
  "settings": {
    "version": "2",
    "engine": "postgresql",
    "schema": [
      "queries/pg_misc.sql",
      "queries/river_client.sql",
      "queries/river_client_queue.sql",
      "queries/river_job.sql",
      "queries/river_leader.sql",
      "queries/river_migration.sql",
      "queries/river_queue.sql"
    ],
    "queries": [
      "queries/pg_misc.sql",
      "queries/river_client.sql",
      "queries/river_client_queue.sql",
      "queries/river_job.sql",
      "queries/river_job_copyfrom.sql",
      "queries/river_leader.sql",
      "queries/river_migration.sql",
      "queries/river_queue.sql"
    ],
    "codegen": {
      "out": "src",
      "plugin": "rust",
      "options": [
        123,
        34,
        100,
        101,
        98,
        117,
        103,
        34,
        58,
        116,
        114,
        117,
        101,
        44,
        34,
        100,
        114,
        105,
        118,
        101,
        114,
        34,
        58,
        34,
        115,
        113,
        108,
        120,
        34,
        125
      ],
      "env": [],
      "process": null,
      "wasm": {
        "url": "file://../../result/bin/sqlc-gen-rust.wasm",
        "sha256": ""
      }
    }
  },
  "catalog": {
    "comment": "",
    "default_schema": "public",
    "name": "",
    "schemas": [
      {
        "comment": "",
        "name": "public",
        "tables": [
          {
            "rel": {
              "catalog": "",
              "schema": "",
              "name": "river_client"
            },
            "columns": [
              {
                "name": "id",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_client"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "text"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "created_at",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_client"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "timestamptz"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "metadata",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_client"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "jsonb"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "paused_at",
                "not_null": false,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_client"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "timestamptz"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "updated_at",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_client"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "timestamptz"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              }
            ],
            "comment": ""
          },
          {
            "rel": {
              "catalog": "",
              "schema": "",
              "name": "river_client_queue"
            },
            "columns": [
              {
                "name": "river_client_id",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_client_queue"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "text"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "name",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_client_queue"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "text"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "created_at",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_client_queue"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "timestamptz"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "max_workers",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_client_queue"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "pg_catalog",
                  "name": "int8"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "metadata",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_client_queue"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "jsonb"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "num_jobs_completed",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_client_queue"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "pg_catalog",
                  "name": "int8"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "num_jobs_running",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_client_queue"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "pg_catalog",
                  "name": "int8"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "updated_at",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_client_queue"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "timestamptz"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              }
            ],
            "comment": ""
          },
          {
            "rel": {
              "catalog": "",
              "schema": "",
              "name": "river_job"
            },
            "columns": [
              {
                "name": "id",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "bigserial"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "args",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "jsonb"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "attempt",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "pg_catalog",
                  "name": "int2"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "attempted_at",
                "not_null": false,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "timestamptz"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "attempted_by",
                "not_null": false,
                "is_array": true,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "text"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 1
              },
              {
                "name": "created_at",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "timestamptz"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "errors",
                "not_null": false,
                "is_array": true,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "jsonb"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 1
              },
              {
                "name": "finalized_at",
                "not_null": false,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "timestamptz"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "kind",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "text"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "max_attempts",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "pg_catalog",
                  "name": "int2"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "metadata",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "jsonb"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "priority",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "pg_catalog",
                  "name": "int2"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "queue",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "text"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "state",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job_state"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "scheduled_at",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "timestamptz"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "tags",
                "not_null": true,
                "is_array": true,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "pg_catalog",
                  "name": "varchar"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 1
              },
              {
                "name": "unique_key",
                "not_null": false,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "bytea"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "unique_states",
                "not_null": false,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_job"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "pg_catalog",
                  "name": "bit"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              }
            ],
            "comment": ""
          },
          {
            "rel": {
              "catalog": "",
              "schema": "",
              "name": "river_leader"
            },
            "columns": [
              {
                "name": "elected_at",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_leader"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "timestamptz"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "expires_at",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_leader"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "timestamptz"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "leader_id",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_leader"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "text"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "name",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_leader"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "text"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              }
            ],
            "comment": ""
          },
          {
            "rel": {
              "catalog": "",
              "schema": "",
              "name": "river_migration"
            },
            "columns": [
              {
                "name": "line",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_migration"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "text"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "version",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_migration"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "pg_catalog",
                  "name": "int8"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "created_at",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_migration"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "timestamptz"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              }
            ],
            "comment": ""
          },
          {
            "rel": {
              "catalog": "",
              "schema": "",
              "name": "river_queue"
            },
            "columns": [
              {
                "name": "name",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_queue"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "text"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "created_at",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_queue"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "timestamptz"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "metadata",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_queue"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "jsonb"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "paused_at",
                "not_null": false,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_queue"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "timestamptz"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              },
              {
                "name": "updated_at",
                "not_null": true,
                "is_array": false,
                "comment": "",
                "length": -1,
                "is_named_param": false,
                "is_func_call": false,
                "scope": "",
                "table": {
                  "catalog": "",
                  "schema": "",
                  "name": "river_queue"
                },
                "table_alias": "",
                "type": {
                  "catalog": "",
                  "schema": "",
                  "name": "timestamptz"
                },
                "is_sqlc_slice": false,
                "embed_table": null,
                "original_name": "",
                "unsigned": false,
                "array_dims": 0
              }
            ],
            "comment": ""
          }
        ],
        "enums": [
          {
            "name": "river_job_state",
            "vals": [
              "available",
              "cancelled",
              "completed",
              "discarded",
              "pending",
              "retryable",
              "running",
              "scheduled"
            ],
            "comment": ""
          }
        ],
        "composite_types": []
      },
      {
        "comment": "",
        "name": "pg_temp",
        "tables": [],
        "enums": [],
        "composite_types": []
      }
    ]
  },
  "queries": [
    {
      "text": "SELECT pg_advisory_xact_lock($1)",
      "name": "PGAdvisoryXactLock",
      "cmd": ":exec",
      "columns": [
        {
          "name": "pg_advisory_xact_lock",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": true,
          "scope": "",
          "table": null,
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "void"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "key",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "bigint"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "pg_misc.sql",
      "insert_into_table": null
    },
    {
      "text": "WITH topic_to_notify AS (\n    SELECT\n        concat(current_schema(), '.', $1::text) AS topic,\n        unnest($2::text[]) AS payload\n)\nSELECT pg_notify(\n    topic_to_notify.topic,\n    topic_to_notify.payload\n  )\nFROM topic_to_notify",
      "name": "PGNotifyMany",
      "cmd": ":exec",
      "columns": [
        {
          "name": "pg_notify",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": true,
          "scope": "",
          "table": null,
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "void"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "topic",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "payload",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        }
      ],
      "comments": [],
      "filename": "pg_misc.sql",
      "insert_into_table": null
    },
    {
      "text": "INSERT INTO river_client (\n    id,\n    metadata,\n    paused_at,\n    updated_at\n) VALUES (\n    $1,\n    coalesce($2::jsonb, '{}'::jsonb),\n    coalesce($3::timestamptz, NULL),\n    coalesce($4::timestamptz, now())\n) ON CONFLICT (name) DO UPDATE\nSET\n    updated_at = coalesce($4::timestamptz, now())\nRETURNING id, created_at, metadata, paused_at, updated_at",
      "name": "ClientCreateOrSetUpdatedAt",
      "cmd": ":one",
      "columns": [
        {
          "name": "id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_client"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_client"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_client"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "paused_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_client"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "paused_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "updated_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_client"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "updated_at",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "id",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_client"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "id",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "metadata",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 3,
          "column": {
            "name": "paused_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 4,
          "column": {
            "name": "updated_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_client.sql",
      "insert_into_table": {
        "catalog": "",
        "schema": "",
        "name": "river_client"
      }
    },
    {
      "text": "INSERT INTO river_client_queue (\n    metadata,\n    name,\n    paused_at,\n    river_client_id,\n    updated_at\n) VALUES (\n    coalesce($1::jsonb, '{}'),\n    unnest($2::text[]),\n    coalesce($3::timestamptz, NULL),\n    $4,\n    coalesce($5::timestamptz, now())\n) ON CONFLICT (name) DO UPDATE\nSET\n    updated_at = coalesce($5::timestamptz, now())\nRETURNING river_client_id, name, created_at, max_workers, metadata, num_jobs_completed, num_jobs_running, updated_at",
      "name": "ClientQueueCreateOrSetUpdatedAtMany",
      "cmd": ":one",
      "columns": [
        {
          "name": "river_client_id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_client_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "river_client_id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "name",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_client_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "name",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_client_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "max_workers",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_client_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int8"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "max_workers",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_client_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "num_jobs_completed",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_client_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int8"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "num_jobs_completed",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "num_jobs_running",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_client_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int8"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "num_jobs_running",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "updated_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_client_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "updated_at",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "metadata",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "name",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 3,
          "column": {
            "name": "paused_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 4,
          "column": {
            "name": "river_client_id",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_client_queue"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "river_client_id",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 5,
          "column": {
            "name": "updated_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_client_queue.sql",
      "insert_into_table": {
        "catalog": "",
        "schema": "",
        "name": "river_client_queue"
      }
    },
    {
      "text": "WITH locked_job AS (\n    SELECT\n        id, queue, state, finalized_at\n    FROM river_job\n    WHERE river_job.id = $1\n    FOR UPDATE\n),\nnotification AS (\n    SELECT\n        id,\n        pg_notify(\n            concat(current_schema(), '.', $2::text),\n            json_build_object('action', 'cancel', 'job_id', id, 'queue', queue)::text\n        )\n    FROM\n        locked_job\n    WHERE\n        state NOT IN ('cancelled', 'completed', 'discarded')\n        AND finalized_at IS NULL\n),\nupdated_job AS (\n    UPDATE river_job\n    SET\n        -- If the job is actively running, we want to let its current client and\n        -- producer handle the cancellation. Otherwise, immediately cancel it.\n        state = CASE WHEN state = 'running' THEN state ELSE 'cancelled' END,\n        finalized_at = CASE WHEN state = 'running' THEN finalized_at ELSE now() END,\n        -- Mark the job as cancelled by query so that the rescuer knows not to\n        -- rescue it, even if it gets stuck in the running state:\n        metadata = jsonb_set(metadata, '{cancel_attempted_at}'::text[], $3::jsonb, true)\n    FROM notification\n    WHERE river_job.id = notification.id\n    RETURNING river_job.id, river_job.args, river_job.attempt, river_job.attempted_at, river_job.attempted_by, river_job.created_at, river_job.errors, river_job.finalized_at, river_job.kind, river_job.max_attempts, river_job.metadata, river_job.priority, river_job.queue, river_job.state, river_job.scheduled_at, river_job.tags, river_job.unique_key, river_job.unique_states\n)\nSELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM river_job\nWHERE id = $1::bigint\n    AND id NOT IN (SELECT id FROM updated_job)\nUNION\nSELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM updated_job",
      "name": "JobCancel",
      "cmd": ":one",
      "columns": [
        {
          "name": "id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bigserial"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "args",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "args",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempt",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempt",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_by",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_by",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "errors",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "errors",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "finalized_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "finalized_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "kind",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "kind",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "max_attempts",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "max_attempts",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "priority",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "priority",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "queue",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "queue",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "state",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "river_job_state"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "state",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "scheduled_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "scheduled_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "tags",
          "not_null": true,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "varchar"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "tags",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "unique_key",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bytea"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_key",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "unique_states",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "bit"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_states",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "id",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "bigserial"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "id",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "control_topic",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 3,
          "column": {
            "name": "cancel_attempted_at",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "SELECT count(*)\nFROM river_job\nWHERE state = $1",
      "name": "JobCountByState",
      "cmd": ":one",
      "columns": [
        {
          "name": "count",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": true,
          "scope": "",
          "table": null,
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bigint"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "state",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "river_job_state"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "state",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "WITH job_to_delete AS (\n    SELECT id\n    FROM river_job\n    WHERE river_job.id = $1\n    FOR UPDATE\n),\ndeleted_job AS (\n    DELETE\n    FROM river_job\n    USING job_to_delete\n    WHERE river_job.id = job_to_delete.id\n        -- Do not touch running jobs:\n        AND river_job.state != 'running'\n    RETURNING river_job.id, river_job.args, river_job.attempt, river_job.attempted_at, river_job.attempted_by, river_job.created_at, river_job.errors, river_job.finalized_at, river_job.kind, river_job.max_attempts, river_job.metadata, river_job.priority, river_job.queue, river_job.state, river_job.scheduled_at, river_job.tags, river_job.unique_key, river_job.unique_states\n)\nSELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM river_job\nWHERE id = $1::bigint\n    AND id NOT IN (SELECT id FROM deleted_job)\nUNION\nSELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM deleted_job",
      "name": "JobDelete",
      "cmd": ":one",
      "columns": [
        {
          "name": "id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bigserial"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "args",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "args",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempt",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempt",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_by",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_by",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "errors",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "errors",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "finalized_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "finalized_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "kind",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "kind",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "max_attempts",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "max_attempts",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "priority",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "priority",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "queue",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "queue",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "state",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "river_job_state"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "state",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "scheduled_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "scheduled_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "tags",
          "not_null": true,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "varchar"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "tags",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "unique_key",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bytea"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_key",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "unique_states",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "bit"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_states",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "id",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "bigserial"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "id",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "WITH deleted_jobs AS (\n    DELETE FROM river_job\n    WHERE id IN (\n        SELECT id\n        FROM river_job\n        WHERE\n            (state = 'cancelled' AND finalized_at < $1::timestamptz) OR\n            (state = 'completed' AND finalized_at < $2::timestamptz) OR\n            (state = 'discarded' AND finalized_at < $3::timestamptz)\n        ORDER BY id\n        LIMIT $4::bigint\n    )\n    RETURNING id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\n)\nSELECT count(*)\nFROM deleted_jobs",
      "name": "JobDeleteBefore",
      "cmd": ":one",
      "columns": [
        {
          "name": "count",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": true,
          "scope": "",
          "table": null,
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bigint"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "cancelled_finalized_at_horizon",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "completed_finalized_at_horizon",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 3,
          "column": {
            "name": "discarded_finalized_at_horizon",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 4,
          "column": {
            "name": "max",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int8"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "WITH locked_jobs AS (\n    SELECT\n        id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\n    FROM\n        river_job\n    WHERE\n        state = 'available'\n        AND queue = $2::text\n        AND scheduled_at <= coalesce($3::timestamptz, now())\n    ORDER BY\n        priority ASC,\n        scheduled_at ASC,\n        id ASC\n    LIMIT $4::integer\n    FOR UPDATE\n    SKIP LOCKED\n)\nUPDATE\n    river_job\nSET\n    state = 'running',\n    attempt = river_job.attempt + 1,\n    attempted_at = now(),\n    attempted_by = array_append(river_job.attempted_by, $1::text)\nFROM\n    locked_jobs\nWHERE\n    river_job.id = locked_jobs.id\nRETURNING\n    river_job.id, river_job.args, river_job.attempt, river_job.attempted_at, river_job.attempted_by, river_job.created_at, river_job.errors, river_job.finalized_at, river_job.kind, river_job.max_attempts, river_job.metadata, river_job.priority, river_job.queue, river_job.state, river_job.scheduled_at, river_job.tags, river_job.unique_key, river_job.unique_states",
      "name": "JobGetAvailable",
      "cmd": ":many",
      "columns": [
        {
          "name": "id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bigserial"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "args",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "args",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempt",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempt",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_by",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_by",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "errors",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "errors",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "finalized_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "finalized_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "kind",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "kind",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "max_attempts",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "max_attempts",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "priority",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "priority",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "queue",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "queue",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "state",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "river_job_state"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "state",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "scheduled_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "scheduled_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "tags",
          "not_null": true,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "varchar"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "tags",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "unique_key",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bytea"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_key",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "unique_states",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "bit"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_states",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "attempted_by",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "queue",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 3,
          "column": {
            "name": "now",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 4,
          "column": {
            "name": "max",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int4"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "SELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM river_job\nWHERE kind = $1\n    AND CASE WHEN $2::boolean THEN args = $3 ELSE true END\n    AND CASE WHEN $4::boolean THEN tstzrange($5::timestamptz, $6::timestamptz, '[)') @> created_at ELSE true END\n    AND CASE WHEN $7::boolean THEN queue = $8 ELSE true END\n    AND CASE WHEN $9::boolean THEN state::text = any($10::text[]) ELSE true END",
      "name": "JobGetByKindAndUniqueProperties",
      "cmd": ":one",
      "columns": [
        {
          "name": "id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bigserial"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "args",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "args",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempt",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempt",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_by",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_by",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "errors",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "errors",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "finalized_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "finalized_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "kind",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "kind",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "max_attempts",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "max_attempts",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "priority",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "priority",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "queue",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "queue",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "state",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "river_job_state"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "state",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "scheduled_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "scheduled_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "tags",
          "not_null": true,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "varchar"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "tags",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "unique_key",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bytea"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_key",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "unique_states",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "bit"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_states",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "kind",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "kind",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "by_args",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 3,
          "column": {
            "name": "args",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "args",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 4,
          "column": {
            "name": "by_created_at",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 5,
          "column": {
            "name": "created_at_begin",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 6,
          "column": {
            "name": "created_at_end",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 7,
          "column": {
            "name": "by_queue",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 8,
          "column": {
            "name": "queue",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "queue",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 9,
          "column": {
            "name": "by_state",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 10,
          "column": {
            "name": "state",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "SELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM river_job\nWHERE kind = any($1::text[])\nORDER BY id",
      "name": "JobGetByKindMany",
      "cmd": ":many",
      "columns": [
        {
          "name": "id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bigserial"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "args",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "args",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempt",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempt",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_by",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_by",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "errors",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "errors",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "finalized_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "finalized_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "kind",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "kind",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "max_attempts",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "max_attempts",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "priority",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "priority",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "queue",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "queue",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "state",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "river_job_state"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "state",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "scheduled_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "scheduled_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "tags",
          "not_null": true,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "varchar"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "tags",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "unique_key",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bytea"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_key",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "unique_states",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "bit"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_states",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "kind",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "SELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM river_job\nWHERE id = $1\nLIMIT 1",
      "name": "JobGetByID",
      "cmd": ":one",
      "columns": [
        {
          "name": "id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bigserial"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "args",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "args",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempt",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempt",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_by",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_by",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "errors",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "errors",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "finalized_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "finalized_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "kind",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "kind",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "max_attempts",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "max_attempts",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "priority",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "priority",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "queue",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "queue",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "state",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "river_job_state"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "state",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "scheduled_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "scheduled_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "tags",
          "not_null": true,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "varchar"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "tags",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "unique_key",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bytea"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_key",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "unique_states",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "bit"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_states",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "id",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "bigserial"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "id",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "SELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM river_job\nWHERE id = any($1::bigint[])\nORDER BY id",
      "name": "JobGetByIDMany",
      "cmd": ":many",
      "columns": [
        {
          "name": "id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bigserial"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "args",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "args",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempt",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempt",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_by",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_by",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "errors",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "errors",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "finalized_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "finalized_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "kind",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "kind",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "max_attempts",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "max_attempts",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "priority",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "priority",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "queue",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "queue",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "state",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "river_job_state"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "state",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "scheduled_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "scheduled_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "tags",
          "not_null": true,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "varchar"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "tags",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "unique_key",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bytea"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_key",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "unique_states",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "bit"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_states",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "id",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int8"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "SELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM river_job\nWHERE state = 'running'\n    AND attempted_at < $1::timestamptz\nORDER BY id\nLIMIT $2",
      "name": "JobGetStuck",
      "cmd": ":many",
      "columns": [
        {
          "name": "id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bigserial"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "args",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "args",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempt",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempt",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_by",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_by",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "errors",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "errors",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "finalized_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "finalized_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "kind",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "kind",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "max_attempts",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "max_attempts",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "priority",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "priority",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "queue",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "queue",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "state",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "river_job_state"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "state",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "scheduled_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "scheduled_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "tags",
          "not_null": true,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "varchar"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "tags",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "unique_key",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bytea"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_key",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "unique_states",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "bit"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_states",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "stuck_horizon",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "max",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "integer"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "INSERT INTO river_job(\n    args,\n    kind,\n    max_attempts,\n    metadata,\n    priority,\n    queue,\n    scheduled_at,\n    state,\n    tags,\n    unique_key,\n    unique_states\n) SELECT\n    unnest($1::jsonb[]),\n    unnest($2::text[]),\n    unnest($3::smallint[]),\n    unnest($4::jsonb[]),\n    unnest($5::smallint[]),\n    unnest($6::text[]),\n    unnest($7::timestamptz[]),\n    -- To avoid requiring pgx users to register the OID of the river_job_state[]\n    -- type, we cast the array to text[] and then to river_job_state.\n    unnest($8::text[])::river_job_state,\n    -- Unnest on a multi-dimensional array will fully flatten the array, so we\n    -- encode the tag list as a comma-separated string and split it in the\n    -- query.\n    string_to_array(unnest($9::text[]), ','),\n\n    unnest($10::bytea[]),\n    unnest($11::bit(8)[])\n\nON CONFLICT (unique_key)\n    WHERE unique_key IS NOT NULL\n      AND unique_states IS NOT NULL\n      AND river_job_state_in_bitmask(unique_states, state)\n    -- Something needs to be updated for a row to be returned on a conflict.\n    DO UPDATE SET kind = EXCLUDED.kind\nRETURNING river_job.id, river_job.args, river_job.attempt, river_job.attempted_at, river_job.attempted_by, river_job.created_at, river_job.errors, river_job.finalized_at, river_job.kind, river_job.max_attempts, river_job.metadata, river_job.priority, river_job.queue, river_job.state, river_job.scheduled_at, river_job.tags, river_job.unique_key, river_job.unique_states, (xmax != 0) AS unique_skipped_as_duplicate",
      "name": "JobInsertFastMany",
      "cmd": ":many",
      "columns": [
        {
          "name": "river_job",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": null,
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": ""
          },
          "is_sqlc_slice": false,
          "embed_table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "original_name": "",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "unique_skipped_as_duplicate",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": null,
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bool"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "args",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 2,
          "column": {
            "name": "kind",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 3,
          "column": {
            "name": "max_attempts",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int2"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 4,
          "column": {
            "name": "metadata",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 5,
          "column": {
            "name": "priority",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int2"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 6,
          "column": {
            "name": "queue",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 7,
          "column": {
            "name": "scheduled_at",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 8,
          "column": {
            "name": "state",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 9,
          "column": {
            "name": "tags",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 10,
          "column": {
            "name": "unique_key",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "bytea"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 11,
          "column": {
            "name": "unique_states",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bit"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": {
        "catalog": "",
        "schema": "",
        "name": "river_job"
      }
    },
    {
      "text": "INSERT INTO river_job(\n    args,\n    kind,\n    max_attempts,\n    metadata,\n    priority,\n    queue,\n    scheduled_at,\n    state,\n    tags,\n    unique_key,\n    unique_states\n) SELECT\n    unnest($1::jsonb[]),\n    unnest($2::text[]),\n    unnest($3::smallint[]),\n    unnest($4::jsonb[]),\n    unnest($5::smallint[]),\n    unnest($6::text[]),\n    unnest($7::timestamptz[]),\n    unnest($8::river_job_state[]),\n\n    -- lib/pq really, REALLY does not play nicely with multi-dimensional arrays,\n    -- so instead we pack each set of tags into a string, send them through,\n    -- then unpack them here into an array to put in each row. This isn't\n    -- necessary in the Pgx driver where copyfrom is used instead.\n    string_to_array(unnest($9::text[]), ','),\n\n    unnest($10::bytea[]),\n    unnest($11::bit(8)[])\n\nON CONFLICT (unique_key)\n    WHERE unique_key IS NOT NULL\n      AND unique_states IS NOT NULL\n      AND river_job_state_in_bitmask(unique_states, state)\nDO NOTHING",
      "name": "JobInsertFastManyNoReturning",
      "cmd": ":execrows",
      "columns": [],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "args",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 2,
          "column": {
            "name": "kind",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 3,
          "column": {
            "name": "max_attempts",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int2"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 4,
          "column": {
            "name": "metadata",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 5,
          "column": {
            "name": "priority",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int2"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 6,
          "column": {
            "name": "queue",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 7,
          "column": {
            "name": "scheduled_at",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 8,
          "column": {
            "name": "state",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "river_job_state"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 9,
          "column": {
            "name": "tags",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 10,
          "column": {
            "name": "unique_key",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "bytea"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 11,
          "column": {
            "name": "unique_states",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bit"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": {
        "catalog": "",
        "schema": "",
        "name": "river_job"
      }
    },
    {
      "text": "INSERT INTO river_job(\n    args,\n    attempt,\n    attempted_at,\n    created_at,\n    errors,\n    finalized_at,\n    kind,\n    max_attempts,\n    metadata,\n    priority,\n    queue,\n    scheduled_at,\n    state,\n    tags,\n    unique_key,\n    unique_states\n) VALUES (\n    $1::jsonb,\n    coalesce($2::smallint, 0),\n    $3,\n    coalesce($4::timestamptz, now()),\n    $5,\n    $6,\n    $7,\n    $8::smallint,\n    coalesce($9::jsonb, '{}'),\n    $10,\n    $11,\n    coalesce($12::timestamptz, now()),\n    $13,\n    coalesce($14::varchar(255)[], '{}'),\n    $15,\n    $16\n) RETURNING id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states",
      "name": "JobInsertFull",
      "cmd": ":one",
      "columns": [
        {
          "name": "id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bigserial"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "args",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "args",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempt",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempt",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_by",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_by",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "errors",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "errors",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "finalized_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "finalized_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "kind",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "kind",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "max_attempts",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "max_attempts",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "priority",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "priority",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "queue",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "queue",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "state",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "river_job_state"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "state",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "scheduled_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "scheduled_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "tags",
          "not_null": true,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "varchar"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "tags",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "unique_key",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bytea"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_key",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "unique_states",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "bit"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_states",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "args",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "attempt",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int2"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 3,
          "column": {
            "name": "attempted_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "attempted_at",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 4,
          "column": {
            "name": "created_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 5,
          "column": {
            "name": "errors",
            "not_null": false,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "errors",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 6,
          "column": {
            "name": "finalized_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "finalized_at",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 7,
          "column": {
            "name": "kind",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "kind",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 8,
          "column": {
            "name": "max_attempts",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int2"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 9,
          "column": {
            "name": "metadata",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 10,
          "column": {
            "name": "priority",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "pg_catalog.int2"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "priority",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 11,
          "column": {
            "name": "queue",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "queue",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 12,
          "column": {
            "name": "scheduled_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 13,
          "column": {
            "name": "state",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "river_job_state"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "state",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 14,
          "column": {
            "name": "tags",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "varchar"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 15,
          "column": {
            "name": "unique_key",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "bytea"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "unique_key",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 16,
          "column": {
            "name": "unique_states",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "pg_catalog.bit"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "unique_states",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": {
        "catalog": "",
        "schema": "",
        "name": "river_job"
      }
    },
    {
      "text": "UPDATE river_job\nSET\n    errors = array_append(errors, updated_job.error),\n    finalized_at = updated_job.finalized_at,\n    scheduled_at = updated_job.scheduled_at,\n    state = updated_job.state\nFROM (\n    SELECT\n        unnest($1::bigint[]) AS id,\n        unnest($2::jsonb[]) AS error,\n        nullif(unnest($3::timestamptz[]), '0001-01-01 00:00:00 +0000') AS finalized_at,\n        unnest($4::timestamptz[]) AS scheduled_at,\n        unnest($5::text[])::river_job_state AS state\n) AS updated_job\nWHERE river_job.id = updated_job.id",
      "name": "JobRescueMany",
      "cmd": ":exec",
      "columns": [],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "id",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int8"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 2,
          "column": {
            "name": "error",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 3,
          "column": {
            "name": "finalized_at",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 4,
          "column": {
            "name": "scheduled_at",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 5,
          "column": {
            "name": "state",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        }
      ],
      "comments": [
        " Run by the rescuer to queue for retry or discard depending on job state."
      ],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "WITH job_to_update AS (\n    SELECT id\n    FROM river_job\n    WHERE river_job.id = $1\n    FOR UPDATE\n),\nupdated_job AS (\n    UPDATE river_job\n    SET\n        state = 'available',\n        scheduled_at = now(),\n        max_attempts = CASE WHEN attempt = max_attempts THEN max_attempts + 1 ELSE max_attempts END,\n        finalized_at = NULL\n    FROM job_to_update\n    WHERE river_job.id = job_to_update.id\n        -- Do not touch running jobs:\n        AND river_job.state != 'running'\n        -- If the job is already available with a prior scheduled_at, leave it alone.\n        AND NOT (river_job.state = 'available' AND river_job.scheduled_at < now())\n    RETURNING river_job.id, river_job.args, river_job.attempt, river_job.attempted_at, river_job.attempted_by, river_job.created_at, river_job.errors, river_job.finalized_at, river_job.kind, river_job.max_attempts, river_job.metadata, river_job.priority, river_job.queue, river_job.state, river_job.scheduled_at, river_job.tags, river_job.unique_key, river_job.unique_states\n)\nSELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM river_job\nWHERE id = $1::bigint\n    AND id NOT IN (SELECT id FROM updated_job)\nUNION\nSELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM updated_job",
      "name": "JobRetry",
      "cmd": ":one",
      "columns": [
        {
          "name": "id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bigserial"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "args",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "args",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempt",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempt",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_by",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_by",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "errors",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "errors",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "finalized_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "finalized_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "kind",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "kind",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "max_attempts",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "max_attempts",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "priority",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "priority",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "queue",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "queue",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "state",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "river_job_state"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "state",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "scheduled_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "scheduled_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "tags",
          "not_null": true,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "varchar"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "tags",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "unique_key",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bytea"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_key",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "unique_states",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "bit"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_states",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "id",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "bigserial"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "id",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "WITH jobs_to_schedule AS (\n    SELECT\n        id,\n        unique_key,\n        unique_states,\n        priority,\n        scheduled_at\n    FROM river_job\n    WHERE\n        state IN ('retryable', 'scheduled')\n        AND queue IS NOT NULL\n        AND priority >= 0\n        AND scheduled_at <= $1::timestamptz\n    ORDER BY\n        priority,\n        scheduled_at,\n        id\n    LIMIT $2::bigint\n    FOR UPDATE\n),\njobs_with_rownum AS (\n    SELECT\n        id, unique_key, unique_states, priority, scheduled_at,\n        CASE\n            WHEN unique_key IS NOT NULL AND unique_states IS NOT NULL THEN\n                ROW_NUMBER() OVER (\n                    PARTITION BY unique_key\n                    ORDER BY priority, scheduled_at, id\n                )\n            ELSE NULL\n        END AS row_num\n    FROM jobs_to_schedule\n),\nunique_conflicts AS (\n    SELECT river_job.unique_key\n    FROM river_job\n    JOIN jobs_with_rownum\n        ON river_job.unique_key = jobs_with_rownum.unique_key\n        AND river_job.id != jobs_with_rownum.id\n    WHERE\n        river_job.unique_key IS NOT NULL\n        AND river_job.unique_states IS NOT NULL\n        AND river_job_state_in_bitmask(river_job.unique_states, river_job.state)\n),\njob_updates AS (\n    SELECT\n        job.id,\n        job.unique_key,\n        job.unique_states,\n        CASE\n            WHEN job.row_num IS NULL THEN 'available'::river_job_state\n            WHEN uc.unique_key IS NOT NULL THEN 'discarded'::river_job_state\n            WHEN job.row_num = 1 THEN 'available'::river_job_state\n            ELSE 'discarded'::river_job_state\n        END AS new_state,\n        (job.row_num IS NOT NULL AND (uc.unique_key IS NOT NULL OR job.row_num > 1)) AS finalized_at_do_update,\n        (job.row_num IS NOT NULL AND (uc.unique_key IS NOT NULL OR job.row_num > 1)) AS metadata_do_update\n    FROM jobs_with_rownum job\n    LEFT JOIN unique_conflicts uc ON job.unique_key = uc.unique_key\n),\nupdated_jobs AS (\n    UPDATE river_job\n    SET\n        state        = job_updates.new_state,\n        finalized_at = CASE WHEN job_updates.finalized_at_do_update THEN $1::timestamptz\n                            ELSE river_job.finalized_at END,\n        metadata     = CASE WHEN job_updates.metadata_do_update THEN river_job.metadata || '{\"unique_key_conflict\": \"scheduler_discarded\"}'::jsonb\n                            ELSE river_job.metadata END\n    FROM job_updates\n    WHERE river_job.id = job_updates.id\n    RETURNING\n        river_job.id,\n        job_updates.new_state = 'discarded'::river_job_state AS conflict_discarded\n)\nSELECT\n    river_job.id, river_job.args, river_job.attempt, river_job.attempted_at, river_job.attempted_by, river_job.created_at, river_job.errors, river_job.finalized_at, river_job.kind, river_job.max_attempts, river_job.metadata, river_job.priority, river_job.queue, river_job.state, river_job.scheduled_at, river_job.tags, river_job.unique_key, river_job.unique_states,\n    updated_jobs.conflict_discarded\nFROM river_job\nJOIN updated_jobs ON river_job.id = updated_jobs.id",
      "name": "JobSchedule",
      "cmd": ":many",
      "columns": [
        {
          "name": "river_job",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": null,
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": ""
          },
          "is_sqlc_slice": false,
          "embed_table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "original_name": "",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "conflict_discarded",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "updated_jobs"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bool"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "conflict_discarded",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "now",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "max",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int8"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "WITH job_to_finalized_at AS (\n    SELECT\n        unnest($1::bigint[]) AS id,\n        unnest($2::timestamptz[]) AS finalized_at\n),\njob_to_update AS (\n    SELECT river_job.id, job_to_finalized_at.finalized_at\n    FROM river_job, job_to_finalized_at\n    WHERE river_job.id = job_to_finalized_at.id\n        AND river_job.state = 'running'\n    FOR UPDATE\n),\nupdated_job AS (\n    UPDATE river_job\n    SET\n        finalized_at = job_to_update.finalized_at,\n        state = 'completed'\n    FROM job_to_update\n    WHERE river_job.id = job_to_update.id\n    RETURNING river_job.id, river_job.args, river_job.attempt, river_job.attempted_at, river_job.attempted_by, river_job.created_at, river_job.errors, river_job.finalized_at, river_job.kind, river_job.max_attempts, river_job.metadata, river_job.priority, river_job.queue, river_job.state, river_job.scheduled_at, river_job.tags, river_job.unique_key, river_job.unique_states\n)\nSELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM river_job\nWHERE id IN (SELECT id FROM job_to_finalized_at EXCEPT SELECT id FROM updated_job)\nUNION\nSELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM updated_job",
      "name": "JobSetCompleteIfRunningMany",
      "cmd": ":many",
      "columns": [
        {
          "name": "id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bigserial"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "args",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "args",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempt",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempt",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_by",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_by",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "errors",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "errors",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "finalized_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "finalized_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "kind",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "kind",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "max_attempts",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "max_attempts",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "priority",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "priority",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "queue",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "queue",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "state",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "river_job_state"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "state",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "scheduled_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "scheduled_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "tags",
          "not_null": true,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "varchar"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "tags",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "unique_key",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bytea"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_key",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "unique_states",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "bit"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_states",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "id",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int8"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 2,
          "column": {
            "name": "finalized_at",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "WITH job_to_update AS (\n    SELECT\n        id,\n        $1::river_job_state IN ('retryable', 'scheduled') AND metadata ? 'cancel_attempted_at' AS should_cancel\n    FROM river_job\n    WHERE id = $2::bigint\n    FOR UPDATE\n),\nupdated_job AS (\n    UPDATE river_job\n    SET\n        state        = CASE WHEN should_cancel                                           THEN 'cancelled'::river_job_state\n                            ELSE $1::river_job_state END,\n        finalized_at = CASE WHEN should_cancel                                           THEN now()\n                            WHEN $3::boolean                        THEN $4\n                            ELSE finalized_at END,\n        errors       = CASE WHEN $5::boolean                               THEN array_append(errors, $6::jsonb)\n                            ELSE errors       END,\n        max_attempts = CASE WHEN NOT should_cancel AND $7::boolean     THEN $8\n                            ELSE max_attempts END,\n        scheduled_at = CASE WHEN NOT should_cancel AND $9::boolean  THEN $10::timestamptz\n                            ELSE scheduled_at END\n    FROM job_to_update\n    WHERE river_job.id = job_to_update.id\n        AND river_job.state = 'running'\n    RETURNING river_job.id, river_job.args, river_job.attempt, river_job.attempted_at, river_job.attempted_by, river_job.created_at, river_job.errors, river_job.finalized_at, river_job.kind, river_job.max_attempts, river_job.metadata, river_job.priority, river_job.queue, river_job.state, river_job.scheduled_at, river_job.tags, river_job.unique_key, river_job.unique_states\n)\nSELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM river_job\nWHERE id = $2::bigint\n    AND id NOT IN (SELECT id FROM updated_job)\nUNION\nSELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM updated_job",
      "name": "JobSetStateIfRunning",
      "cmd": ":one",
      "columns": [
        {
          "name": "id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bigserial"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "args",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "args",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempt",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempt",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_by",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_by",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "errors",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "errors",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "finalized_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "finalized_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "kind",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "kind",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "max_attempts",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "max_attempts",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "priority",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "priority",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "queue",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "queue",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "state",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "river_job_state"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "state",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "scheduled_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "scheduled_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "tags",
          "not_null": true,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "varchar"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "tags",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "unique_key",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bytea"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_key",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "unique_states",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "bit"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_states",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "state",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "river_job_state"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "id",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int8"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 3,
          "column": {
            "name": "finalized_at_do_update",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 4,
          "column": {
            "name": "finalized_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "finalized_at",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 5,
          "column": {
            "name": "error_do_update",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 6,
          "column": {
            "name": "error",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 7,
          "column": {
            "name": "max_attempts_update",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 8,
          "column": {
            "name": "max_attempts",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "pg_catalog.int2"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "max_attempts",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 9,
          "column": {
            "name": "scheduled_at_do_update",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 10,
          "column": {
            "name": "scheduled_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "WITH job_input AS (\n    SELECT\n        unnest($1::bigint[]) AS id,\n        -- To avoid requiring pgx users to register the OID of the river_job_state[]\n        -- type, we cast the array to text[] and then to river_job_state.\n        unnest($2::text[])::river_job_state AS state,\n        unnest($3::boolean[]) AS finalized_at_do_update,\n        unnest($4::timestamptz[]) AS finalized_at,\n        unnest($5::boolean[]) AS errors_do_update,\n        unnest($6::jsonb[]) AS errors,\n        unnest($7::boolean[]) AS max_attempts_do_update,\n        unnest($8::int[]) AS max_attempts,\n        unnest($9::boolean[]) AS scheduled_at_do_update,\n        unnest($10::timestamptz[]) AS scheduled_at\n),\njob_to_update AS (\n    SELECT\n        river_job.id,\n        job_input.state,\n        job_input.finalized_at,\n        job_input.errors,\n        job_input.max_attempts,\n        job_input.scheduled_at,\n        (job_input.state IN ('retryable', 'scheduled') AND river_job.metadata ? 'cancel_attempted_at') AS should_cancel,\n        job_input.finalized_at_do_update,\n        job_input.errors_do_update,\n        job_input.max_attempts_do_update,\n        job_input.scheduled_at_do_update\n    FROM river_job\n    JOIN job_input ON river_job.id = job_input.id\n    WHERE river_job.state = 'running'\n    FOR UPDATE\n),\nupdated_job AS (\n    UPDATE river_job\n    SET\n        state        = CASE WHEN job_to_update.should_cancel THEN 'cancelled'::river_job_state\n                            ELSE job_to_update.state END,\n        finalized_at = CASE WHEN job_to_update.should_cancel THEN now()\n                            WHEN job_to_update.finalized_at_do_update THEN job_to_update.finalized_at\n                            ELSE river_job.finalized_at END,\n        errors       = CASE WHEN job_to_update.errors_do_update THEN array_append(river_job.errors, job_to_update.errors)\n                            ELSE river_job.errors END,\n        max_attempts = CASE WHEN NOT job_to_update.should_cancel AND job_to_update.max_attempts_do_update THEN job_to_update.max_attempts\n                            ELSE river_job.max_attempts END,\n        scheduled_at = CASE WHEN NOT job_to_update.should_cancel AND job_to_update.scheduled_at_do_update THEN job_to_update.scheduled_at\n                            ELSE river_job.scheduled_at END\n    FROM job_to_update\n    WHERE river_job.id = job_to_update.id\n    RETURNING river_job.id, river_job.args, river_job.attempt, river_job.attempted_at, river_job.attempted_by, river_job.created_at, river_job.errors, river_job.finalized_at, river_job.kind, river_job.max_attempts, river_job.metadata, river_job.priority, river_job.queue, river_job.state, river_job.scheduled_at, river_job.tags, river_job.unique_key, river_job.unique_states\n)\nSELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM river_job\nWHERE id IN (SELECT id FROM job_input)\n  AND id NOT IN (SELECT id FROM updated_job)\nUNION\nSELECT id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states\nFROM updated_job",
      "name": "JobSetStateIfRunningMany",
      "cmd": ":many",
      "columns": [
        {
          "name": "id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bigserial"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "args",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "args",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempt",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempt",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_by",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_by",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "errors",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "errors",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "finalized_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "finalized_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "kind",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "kind",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "max_attempts",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "max_attempts",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "priority",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "priority",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "queue",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "queue",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "state",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "river_job_state"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "state",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "scheduled_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "scheduled_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "tags",
          "not_null": true,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "varchar"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "tags",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "unique_key",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bytea"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_key",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "unique_states",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "bit"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_states",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "ids",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int8"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 2,
          "column": {
            "name": "state",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 3,
          "column": {
            "name": "finalized_at_do_update",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 4,
          "column": {
            "name": "finalized_at",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 5,
          "column": {
            "name": "errors_do_update",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 6,
          "column": {
            "name": "errors",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 7,
          "column": {
            "name": "max_attempts_do_update",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 8,
          "column": {
            "name": "max_attempts",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int4"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 9,
          "column": {
            "name": "scheduled_at_do_update",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 10,
          "column": {
            "name": "scheduled_at",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        }
      ],
      "comments": [],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "UPDATE river_job\nSET\n    attempt = CASE WHEN $1::boolean THEN $2 ELSE attempt END,\n    attempted_at = CASE WHEN $3::boolean THEN $4 ELSE attempted_at END,\n    errors = CASE WHEN $5::boolean THEN $6::jsonb[] ELSE errors END,\n    finalized_at = CASE WHEN $7::boolean THEN $8 ELSE finalized_at END,\n    state = CASE WHEN $9::boolean THEN $10 ELSE state END\nWHERE id = $11\nRETURNING id, args, attempt, attempted_at, attempted_by, created_at, errors, finalized_at, kind, max_attempts, metadata, priority, queue, state, scheduled_at, tags, unique_key, unique_states",
      "name": "JobUpdate",
      "cmd": ":one",
      "columns": [
        {
          "name": "id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bigserial"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "args",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "args",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempt",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempt",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "attempted_by",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "attempted_by",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "errors",
          "not_null": false,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "errors",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "finalized_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "finalized_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "kind",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "kind",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "max_attempts",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "max_attempts",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "priority",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int2"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "priority",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "queue",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "queue",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "state",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "river_job_state"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "state",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "scheduled_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "scheduled_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "tags",
          "not_null": true,
          "is_array": true,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "varchar"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "tags",
          "unsigned": false,
          "array_dims": 1
        },
        {
          "name": "unique_key",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bytea"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_key",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "unique_states",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_job"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "bit"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "unique_states",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "attempt_do_update",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "attempt",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "pg_catalog.int2"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "attempt",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 3,
          "column": {
            "name": "attempted_at_do_update",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 4,
          "column": {
            "name": "attempted_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "attempted_at",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 5,
          "column": {
            "name": "errors_do_update",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 6,
          "column": {
            "name": "errors",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 7,
          "column": {
            "name": "finalized_at_do_update",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 8,
          "column": {
            "name": "finalized_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "finalized_at",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 9,
          "column": {
            "name": "state_do_update",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "bool"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 10,
          "column": {
            "name": "state",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "river_job_state"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "state",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 11,
          "column": {
            "name": "id",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "bigserial"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "id",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [
        " A generalized update for any property on a job. This brings in a large number",
        " of parameters and therefore may be more suitable for testing than production."
      ],
      "filename": "river_job.sql",
      "insert_into_table": null
    },
    {
      "text": "INSERT INTO river_job(\n    args,\n    finalized_at,\n    kind,\n    max_attempts,\n    metadata,\n    priority,\n    queue,\n    scheduled_at,\n    state,\n    tags,\n    unique_key,\n    unique_states\n) VALUES (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12\n)",
      "name": "JobInsertFastManyCopyFrom",
      "cmd": ":copyfrom",
      "columns": [],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "args",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "args",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "finalized_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "finalized_at",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 3,
          "column": {
            "name": "kind",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "kind",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 4,
          "column": {
            "name": "max_attempts",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "pg_catalog.int2"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "max_attempts",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 5,
          "column": {
            "name": "metadata",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "metadata",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 6,
          "column": {
            "name": "priority",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "pg_catalog.int2"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "priority",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 7,
          "column": {
            "name": "queue",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "queue",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 8,
          "column": {
            "name": "scheduled_at",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "scheduled_at",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 9,
          "column": {
            "name": "state",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "river_job_state"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "state",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 10,
          "column": {
            "name": "tags",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "pg_catalog.varchar"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "tags",
            "unsigned": false,
            "array_dims": 1
          }
        },
        {
          "number": 11,
          "column": {
            "name": "unique_key",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "bytea"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "unique_key",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 12,
          "column": {
            "name": "unique_states",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_job"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "pg_catalog.bit"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "unique_states",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_job_copyfrom.sql",
      "insert_into_table": {
        "catalog": "",
        "schema": "",
        "name": "river_job"
      }
    },
    {
      "text": "INSERT INTO river_leader(leader_id, elected_at, expires_at)\n    VALUES ($1, now(), now() + $2::interval)\nON CONFLICT (name)\n    DO NOTHING",
      "name": "LeaderAttemptElect",
      "cmd": ":execrows",
      "columns": [],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "leader_id",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_leader"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "leader_id",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "ttl",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "interval"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_leader.sql",
      "insert_into_table": {
        "catalog": "",
        "schema": "",
        "name": "river_leader"
      }
    },
    {
      "text": "INSERT INTO river_leader(leader_id, elected_at, expires_at)\n    VALUES ($1, now(), now() + $2::interval)\nON CONFLICT (name)\n    DO UPDATE SET\n        expires_at = now() + $2\n    WHERE\n        river_leader.leader_id = $1",
      "name": "LeaderAttemptReelect",
      "cmd": ":execrows",
      "columns": [],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "leader_id",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_leader"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "leader_id",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "ttl",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "interval"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_leader.sql",
      "insert_into_table": {
        "catalog": "",
        "schema": "",
        "name": "river_leader"
      }
    },
    {
      "text": "DELETE FROM river_leader\nWHERE expires_at < now()",
      "name": "LeaderDeleteExpired",
      "cmd": ":execrows",
      "columns": [],
      "params": [],
      "comments": [],
      "filename": "river_leader.sql",
      "insert_into_table": null
    },
    {
      "text": "SELECT elected_at, expires_at, leader_id, name\nFROM river_leader",
      "name": "LeaderGetElectedLeader",
      "cmd": ":one",
      "columns": [
        {
          "name": "elected_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_leader"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "elected_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "expires_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_leader"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "expires_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "leader_id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_leader"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "leader_id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "name",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_leader"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "name",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [],
      "comments": [],
      "filename": "river_leader.sql",
      "insert_into_table": null
    },
    {
      "text": "INSERT INTO river_leader(\n    elected_at,\n    expires_at,\n    leader_id\n) VALUES (\n    coalesce($1::timestamptz, now()),\n    coalesce($2::timestamptz, now() + $3::interval),\n    $4\n) RETURNING elected_at, expires_at, leader_id, name",
      "name": "LeaderInsert",
      "cmd": ":one",
      "columns": [
        {
          "name": "elected_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_leader"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "elected_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "expires_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_leader"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "expires_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "leader_id",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_leader"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "leader_id",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "name",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_leader"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "name",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "elected_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "expires_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 3,
          "column": {
            "name": "ttl",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "interval"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 4,
          "column": {
            "name": "leader_id",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_leader"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "leader_id",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_leader.sql",
      "insert_into_table": {
        "catalog": "",
        "schema": "",
        "name": "river_leader"
      }
    },
    {
      "text": "WITH currently_held_leaders AS (\n  SELECT elected_at, expires_at, leader_id, name\n  FROM river_leader\n  WHERE leader_id = $1::text\n  FOR UPDATE\n),\nnotified_resignations AS (\n    SELECT pg_notify(\n        concat(current_schema(), '.', $2::text),\n        json_build_object('leader_id', leader_id, 'action', 'resigned')::text\n    )\n    FROM currently_held_leaders\n)\nDELETE FROM river_leader USING notified_resignations",
      "name": "LeaderResign",
      "cmd": ":execrows",
      "columns": [],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "leader_id",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "leadership_topic",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_leader.sql",
      "insert_into_table": null
    },
    {
      "text": "DELETE FROM river_migration\nWHERE version = any($1::bigint[])\nRETURNING\n    created_at,\n    version",
      "name": "RiverMigrationDeleteAssumingMainMany",
      "cmd": ":many",
      "columns": [
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "version",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int8"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "version",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "version",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int8"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        }
      ],
      "comments": [],
      "filename": "river_migration.sql",
      "insert_into_table": null
    },
    {
      "text": "DELETE FROM river_migration\nWHERE line = $1\n    AND version = any($2::bigint[])\nRETURNING line, version, created_at",
      "name": "RiverMigrationDeleteByLineAndVersionMany",
      "cmd": ":many",
      "columns": [
        {
          "name": "line",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "line",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "version",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int8"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "version",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "line",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "",
              "name": "river_migration"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "line",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "version",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int8"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        }
      ],
      "comments": [],
      "filename": "river_migration.sql",
      "insert_into_table": null
    },
    {
      "text": "SELECT\n    created_at,\n    version\nFROM river_migration\nORDER BY version",
      "name": "RiverMigrationGetAllAssumingMain",
      "cmd": ":many",
      "columns": [
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "version",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int8"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "version",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [],
      "comments": [
        " This is a compatibility query for getting existing migrations before the",
        " `line` column was added to the table in version 005. We need to make sure to",
        " only select non-line properties so the query doesn't error on older schemas.",
        " (Even if we use `SELECT *` below, sqlc materializes it to a list of column",
        " names in the generated query.)",
        ""
      ],
      "filename": "river_migration.sql",
      "insert_into_table": null
    },
    {
      "text": "SELECT line, version, created_at\nFROM river_migration\nWHERE line = $1\nORDER BY version",
      "name": "RiverMigrationGetByLine",
      "cmd": ":many",
      "columns": [
        {
          "name": "line",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "line",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "version",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int8"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "version",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "line",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "",
              "name": "river_migration"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "line",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_migration.sql",
      "insert_into_table": null
    },
    {
      "text": "INSERT INTO river_migration (\n    line,\n    version\n) VALUES (\n    $1,\n    $2\n) RETURNING line, version, created_at",
      "name": "RiverMigrationInsert",
      "cmd": ":one",
      "columns": [
        {
          "name": "line",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "line",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "version",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int8"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "version",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "line",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_migration"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "line",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "version",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_migration"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "pg_catalog.int8"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "version",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_migration.sql",
      "insert_into_table": {
        "catalog": "",
        "schema": "",
        "name": "river_migration"
      }
    },
    {
      "text": "INSERT INTO river_migration (\n    line,\n    version\n)\nSELECT\n    $1,\n    unnest($2::bigint[])\nRETURNING line, version, created_at",
      "name": "RiverMigrationInsertMany",
      "cmd": ":many",
      "columns": [
        {
          "name": "line",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "line",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "version",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int8"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "version",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "line",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": {
              "catalog": "",
              "schema": "public",
              "name": "river_migration"
            },
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "line",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "version",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int8"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        }
      ],
      "comments": [],
      "filename": "river_migration.sql",
      "insert_into_table": {
        "catalog": "",
        "schema": "",
        "name": "river_migration"
      }
    },
    {
      "text": "INSERT INTO river_migration (\n    version\n)\nSELECT\n    unnest($1::bigint[])\nRETURNING\n    created_at,\n    version",
      "name": "RiverMigrationInsertManyAssumingMain",
      "cmd": ":many",
      "columns": [
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "version",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_migration"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "pg_catalog",
            "name": "int8"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "version",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "version",
            "not_null": true,
            "is_array": true,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int8"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 1
          }
        }
      ],
      "comments": [],
      "filename": "river_migration.sql",
      "insert_into_table": {
        "catalog": "",
        "schema": "",
        "name": "river_migration"
      }
    },
    {
      "text": "SELECT EXISTS (\n    SELECT column_name\n    FROM information_schema.columns \n    WHERE table_name = $1::text\n        AND table_schema = CURRENT_SCHEMA\n        AND column_name = $2::text\n)",
      "name": "ColumnExists",
      "cmd": ":one",
      "columns": [
        {
          "name": "exists",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": null,
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bool"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "table_name",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "column_name",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_migration.sql",
      "insert_into_table": null
    },
    {
      "text": "SELECT CASE WHEN to_regclass($1) IS NULL THEN false\n            ELSE true END",
      "name": "TableExists",
      "cmd": ":one",
      "columns": [
        {
          "name": "",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": null,
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "bool"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "table_name",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": true,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_migration.sql",
      "insert_into_table": null
    },
    {
      "text": "INSERT INTO river_queue(\n    created_at,\n    metadata,\n    name,\n    paused_at,\n    updated_at\n) VALUES (\n    now(),\n    coalesce($1::jsonb, '{}'::jsonb),\n    $2::text,\n    coalesce($3::timestamptz, NULL),\n    coalesce($4::timestamptz, now())\n) ON CONFLICT (name) DO UPDATE\nSET\n    updated_at = coalesce($4::timestamptz, now())\nRETURNING name, created_at, metadata, paused_at, updated_at",
      "name": "QueueCreateOrSetUpdatedAt",
      "cmd": ":one",
      "columns": [
        {
          "name": "name",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "name",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "paused_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "paused_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "updated_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "updated_at",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "metadata",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "jsonb"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "name",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 3,
          "column": {
            "name": "paused_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 4,
          "column": {
            "name": "updated_at",
            "not_null": false,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_queue.sql",
      "insert_into_table": {
        "catalog": "",
        "schema": "",
        "name": "river_queue"
      }
    },
    {
      "text": "DELETE FROM river_queue\nWHERE name IN (\n    SELECT name\n    FROM river_queue\n    WHERE updated_at < $1::timestamptz\n    ORDER BY name ASC\n    LIMIT $2::bigint\n)\nRETURNING name, created_at, metadata, paused_at, updated_at",
      "name": "QueueDeleteExpired",
      "cmd": ":many",
      "columns": [
        {
          "name": "name",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "name",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "paused_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "paused_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "updated_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "updated_at",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "updated_at_horizon",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "timestamptz"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        },
        {
          "number": 2,
          "column": {
            "name": "max",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int8"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_queue.sql",
      "insert_into_table": null
    },
    {
      "text": "SELECT name, created_at, metadata, paused_at, updated_at\nFROM river_queue\nWHERE name = $1::text",
      "name": "QueueGet",
      "cmd": ":one",
      "columns": [
        {
          "name": "name",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "name",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "paused_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "paused_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "updated_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "updated_at",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "name",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_queue.sql",
      "insert_into_table": null
    },
    {
      "text": "SELECT name, created_at, metadata, paused_at, updated_at\nFROM river_queue\nORDER BY name ASC\nLIMIT $1::integer",
      "name": "QueueList",
      "cmd": ":many",
      "columns": [
        {
          "name": "name",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "name",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "paused_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "paused_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "updated_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "updated_at",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "limit_count",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "pg_catalog",
              "name": "int4"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_queue.sql",
      "insert_into_table": null
    },
    {
      "text": "WITH queue_to_update AS (\n    SELECT name, paused_at\n    FROM river_queue\n    WHERE CASE WHEN $1::text = '*' THEN true ELSE name = $1 END\n    FOR UPDATE\n),\nupdated_queue AS (\n    UPDATE river_queue\n    SET\n        paused_at = now(),\n        updated_at = now()\n    FROM queue_to_update\n    WHERE river_queue.name = queue_to_update.name\n        AND river_queue.paused_at IS NULL\n    RETURNING river_queue.name, river_queue.created_at, river_queue.metadata, river_queue.paused_at, river_queue.updated_at\n)\nSELECT name, created_at, metadata, paused_at, updated_at\nFROM river_queue\nWHERE name = $1\n    AND name NOT IN (SELECT name FROM updated_queue)\nUNION\nSELECT name, created_at, metadata, paused_at, updated_at\nFROM updated_queue",
      "name": "QueuePause",
      "cmd": ":execresult",
      "columns": [
        {
          "name": "name",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "name",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "paused_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "paused_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "updated_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "updated_at",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "name",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_queue.sql",
      "insert_into_table": null
    },
    {
      "text": "WITH queue_to_update AS (\n    SELECT name\n    FROM river_queue\n    WHERE CASE WHEN $1::text = '*' THEN true ELSE river_queue.name = $1::text END\n    FOR UPDATE\n),\nupdated_queue AS (\n    UPDATE river_queue\n    SET\n        paused_at = NULL,\n        updated_at = now()\n    FROM queue_to_update\n    WHERE river_queue.name = queue_to_update.name\n    RETURNING river_queue.name, river_queue.created_at, river_queue.metadata, river_queue.paused_at, river_queue.updated_at\n)\nSELECT name, created_at, metadata, paused_at, updated_at\nFROM river_queue\nWHERE name = $1\n    AND name NOT IN (SELECT name FROM updated_queue)\nUNION\nSELECT name, created_at, metadata, paused_at, updated_at\nFROM updated_queue",
      "name": "QueueResume",
      "cmd": ":execresult",
      "columns": [
        {
          "name": "name",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "text"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "name",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "created_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "created_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "metadata",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "jsonb"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "metadata",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "paused_at",
          "not_null": false,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "paused_at",
          "unsigned": false,
          "array_dims": 0
        },
        {
          "name": "updated_at",
          "not_null": true,
          "is_array": false,
          "comment": "",
          "length": -1,
          "is_named_param": false,
          "is_func_call": false,
          "scope": "",
          "table": {
            "catalog": "",
            "schema": "",
            "name": "river_queue"
          },
          "table_alias": "",
          "type": {
            "catalog": "",
            "schema": "",
            "name": "timestamptz"
          },
          "is_sqlc_slice": false,
          "embed_table": null,
          "original_name": "updated_at",
          "unsigned": false,
          "array_dims": 0
        }
      ],
      "params": [
        {
          "number": 1,
          "column": {
            "name": "name",
            "not_null": true,
            "is_array": false,
            "comment": "",
            "length": -1,
            "is_named_param": false,
            "is_func_call": false,
            "scope": "",
            "table": null,
            "table_alias": "",
            "type": {
              "catalog": "",
              "schema": "",
              "name": "text"
            },
            "is_sqlc_slice": false,
            "embed_table": null,
            "original_name": "",
            "unsigned": false,
            "array_dims": 0
          }
        }
      ],
      "comments": [],
      "filename": "river_queue.sql",
      "insert_into_table": null
    }
  ],
  "sqlc_version": "v1.27.0",
  "plugin_options": [
    123,
    34,
    100,
    101,
    98,
    117,
    103,
    34,
    58,
    116,
    114,
    117,
    101,
    44,
    34,
    100,
    114,
    105,
    118,
    101,
    114,
    34,
    58,
    34,
    115,
    113,
    108,
    120,
    34,
    125
  ],
  "global_options": []
}